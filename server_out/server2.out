2021-03-19 10:28:11,457 INFO  [Thread-0] root: Initialize server ...
2021-03-19 10:28:11,471 INFO  [Thread-0] root: Server listening on port: 50001
2021-03-19 10:28:11,494 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:zookeeper.version=3.6.2--803c7f1a12f85978cb049af5e4ef23bd8b688715, built on 09/04/2020 12:44 GMT
2021-03-19 10:28:11,494 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:host.name=localhost
2021-03-19 10:28:11,494 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.version=11.0.10
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.vendor=Azul Systems, Inc.
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.home=/Users/steve/Library/Java/JavaVirtualMachines/azul-11.0.10/Contents/Home
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.class.path=/Users/steve/Desktop/UofT/year4/winter2021/ECE419/milestone3/m3-server.jar
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.library.path=/Users/steve/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/var/folders/kz/3gb57nkn6ks6_07_dtt5lqvr0000gn/T/
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.compiler=<NA>
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.name=Mac OS X
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.arch=x86_64
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.version=10.16
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.name=steve
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.home=/Users/steve
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.dir=/Users/steve
2021-03-19 10:28:11,495 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.free=249MB
2021-03-19 10:28:11,496 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.max=4096MB
2021-03-19 10:28:11,496 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.total=256MB
2021-03-19 10:28:11,500 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=3000 watcher=app_kvServer.KVServer$1@24877fd5
2021-03-19 10:28:11,504 INFO  [Thread-0] org.apache.zookeeper.common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2021-03-19 10:28:11,517 INFO  [Thread-0] org.apache.zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes
2021-03-19 10:28:11,530 INFO  [Thread-0] org.apache.zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false
2021-03-19 10:28:11,543 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.SaslServerPrincipal: Canonicalized address to localhost
2021-03-19 10:28:11,545 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Opening socket connection to server localhost/127.0.0.1:2181.
2021-03-19 10:28:11,545 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)
2021-03-19 10:28:11,563 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Socket connection established, initiating session, client: /127.0.0.1:55217, server: localhost/127.0.0.1:2181
2021-03-19 10:28:11,564 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment request sent on localhost/127.0.0.1:2181
2021-03-19 10:28:11,595 TRACE [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxnSocket: readConnectResult 37 0x[0,0,0,0,0,0,f,ffffffa0,1,0,14,ffffffbd,52,70,1,17,0,0,0,10,50,8,33,2e,32,ffffff85,ffffff89,1a,61,ffffffa4,55,4c,8,ffffffe9,67,ffffffe6,0,]
2021-03-19 10:28:11,597 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment complete on server localhost/127.0.0.1:2181, session id = 0x10014bd52700117, negotiated timeout = 4000
2021-03-19 10:28:11,601 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:28:11,601 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:None path:null
2021-03-19 10:28:11,630 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700117, packet:: clientPath:null serverPath:null finished:false header:: 1,1  replyHeader:: 1,889,0  request:: '/keeper/server2,,v{s{31,s{'world,'anyone}}},1  response:: '/keeper/server2 
2021-03-19 10:28:11,634 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700117, packet:: clientPath:null serverPath:null finished:false header:: 2,3  replyHeader:: 2,889,0  request:: '/keeper/server2,T  response:: s{889,889,1616164091601,1616164091601,0,0,0,72080397402374423,0,0,889} 
2021-03-19 10:28:11,661 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got notification session id: 0x10014bd52700117
2021-03-19 10:28:11,662 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2 for session id 0x10014bd52700117
2021-03-19 10:28:11,664 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:28:11,664 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2
2021-03-19 10:28:11,665 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700117, packet:: clientPath:null serverPath:null finished:false header:: 3,5  replyHeader:: 3,890,0  request:: '/keeper/server2,#3132372e302e302e313a3530303031,0  response:: s{889,890,1616164091601,1616164091635,1,0,0,72080397402374423,15,0,889} 
2021-03-19 10:28:11,665 INFO  [Thread-0] root: Node created at: /keeper/server2
Starting commModule
2021-03-19 10:28:11,673 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,674 INFO  [Thread-0] root: Connected to localhost on port 55218
2021-03-19 10:28:11,682 INFO  [Thread-1] root: Message received by server -> Status: INIT_SERVER
received adminmsg
2021-03-19 10:28:11,683 INFO  [Thread-1] root: Message sent by server -> Status: INIT_SERVER_SUCCESS
2021-03-19 10:28:11,683 INFO  [Thread-1] root: Message received by server -> Status: START
received adminmsg
2021-03-19 10:28:11,683 INFO  [Thread-1] root: Message sent by server -> Status: START_SUCCESS
Starting commModule
2021-03-19 10:28:11,689 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,690 INFO  [Thread-0] root: Connected to localhost on port 55221
Starting commModule
2021-03-19 10:28:11,693 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,694 INFO  [Thread-0] root: Connected to localhost on port 55224
Starting commModule
2021-03-19 10:28:11,698 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,699 INFO  [Thread-0] root: Connected to localhost on port 55226
2021-03-19 10:28:11,700 INFO  [Thread-4] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:11,701 INFO  [Thread-4] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:11,706 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,707 INFO  [Thread-0] root: Connected to localhost on port 55228
Starting commModule
2021-03-19 10:28:11,708 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,708 INFO  [Thread-0] root: Connected to localhost on port 55230
2021-03-19 10:28:11,709 INFO  [Thread-6] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:11,715 DEBUG [Thread-6] root: Getting successors
2021-03-19 10:28:11,715 DEBUG [Thread-6] root: Got successors
2021-03-19 10:28:11,715 DEBUG [Thread-6] root: Propagating to: 127.0.0.1:50002 127.0.0.1:50001
2021-03-19 10:28:11,717 INFO  [Thread-6] root: Client communication module connected
Starting commModule
2021-03-19 10:28:11,718 INFO  [Thread-6] root: Client communication module connected
2021-03-19 10:28:11,718 DEBUG [Thread-6] root: {}
2021-03-19 10:28:11,718 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:11,718 INFO  [Thread-6] root: Message sent by server -> Status: PROPAGATE_SUCCESS
2021-03-19 10:28:11,719 INFO  [Thread-0] root: Connected to localhost on port 55232
Starting commModule
2021-03-19 10:28:12,305 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,306 INFO  [Thread-0] root: Connected to localhost on port 55237
2021-03-19 10:28:12,307 INFO  [Thread-8] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:12,308 INFO  [Thread-8] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,311 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,312 INFO  [Thread-0] root: Connected to localhost on port 55239
Starting commModule
2021-03-19 10:28:12,313 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,314 INFO  [Thread-0] root: Connected to localhost on port 55241
2021-03-19 10:28:12,315 INFO  [Thread-10] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:12,315 DEBUG [Thread-10] root: Getting successors
2021-03-19 10:28:12,315 DEBUG [Thread-10] root: Got successors
2021-03-19 10:28:12,315 DEBUG [Thread-10] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50002
2021-03-19 10:28:12,316 INFO  [Thread-10] root: Client communication module connected
2021-03-19 10:28:12,316 INFO  [Thread-10] root: Client communication module connected
2021-03-19 10:28:12,316 DEBUG [Thread-10] root: {}
2021-03-19 10:28:12,317 INFO  [Thread-10] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,324 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,324 INFO  [Thread-0] root: Connected to localhost on port 55247
2021-03-19 10:28:12,325 INFO  [Thread-11] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:12,326 INFO  [Thread-11] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,335 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,335 INFO  [Thread-0] root: Connected to localhost on port 55250
Starting commModule
2021-03-19 10:28:12,337 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,338 INFO  [Thread-0] root: Connected to localhost on port 55252
2021-03-19 10:28:12,338 INFO  [Thread-13] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:12,339 DEBUG [Thread-13] root: Getting successors
2021-03-19 10:28:12,339 DEBUG [Thread-13] root: Got successors
2021-03-19 10:28:12,339 DEBUG [Thread-13] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50002
2021-03-19 10:28:12,339 INFO  [Thread-13] root: Client communication module connected
2021-03-19 10:28:12,340 INFO  [Thread-13] root: Client communication module connected
2021-03-19 10:28:12,340 DEBUG [Thread-13] root: {}
2021-03-19 10:28:12,340 INFO  [Thread-13] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,351 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,352 INFO  [Thread-0] root: Connected to localhost on port 55257
Starting commModule
2021-03-19 10:28:12,940 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,941 INFO  [Thread-0] root: Connected to localhost on port 55264
2021-03-19 10:28:12,942 INFO  [Thread-15] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:12,943 INFO  [Thread-15] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,949 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,950 INFO  [Thread-0] root: Connected to localhost on port 55267
Starting commModule
2021-03-19 10:28:12,950 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,951 INFO  [Thread-0] root: Connected to localhost on port 55269
2021-03-19 10:28:12,952 INFO  [Thread-17] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:12,952 DEBUG [Thread-17] root: Getting successors
2021-03-19 10:28:12,952 DEBUG [Thread-17] root: Got successors
2021-03-19 10:28:12,952 DEBUG [Thread-17] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:28:12,953 INFO  [Thread-17] root: Client communication module connected
2021-03-19 10:28:12,953 INFO  [Thread-17] root: Client communication module connected
2021-03-19 10:28:12,954 DEBUG [Thread-17] root: {}
2021-03-19 10:28:12,954 INFO  [Thread-17] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,957 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,958 INFO  [Thread-0] root: Connected to localhost on port 55274
Starting commModule
2021-03-19 10:28:12,966 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,967 INFO  [Thread-0] root: Connected to localhost on port 55278
2021-03-19 10:28:12,968 INFO  [Thread-19] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:12,968 INFO  [Thread-19] root: Message sent by server -> Status: UPDATE_SUCCESS
2021-03-19 10:28:12,972 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got ping response for session id: 0x10014bd52700117 after 0ms.
Starting commModule
2021-03-19 10:28:12,979 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,979 INFO  [Thread-0] root: Connected to localhost on port 55283
Starting commModule
2021-03-19 10:28:12,981 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,982 INFO  [Thread-0] root: Connected to localhost on port 55285
2021-03-19 10:28:12,982 INFO  [Thread-21] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:12,983 DEBUG [Thread-21] root: Getting successors
2021-03-19 10:28:12,983 DEBUG [Thread-21] root: Got successors
2021-03-19 10:28:12,983 DEBUG [Thread-21] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:28:12,984 INFO  [Thread-21] root: Client communication module connected
2021-03-19 10:28:12,984 INFO  [Thread-21] root: Client communication module connected
2021-03-19 10:28:12,984 DEBUG [Thread-21] root: {}
2021-03-19 10:28:12,985 INFO  [Thread-21] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:12,988 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:12,989 INFO  [Thread-0] root: Connected to localhost on port 55290
Starting commModule
2021-03-19 10:28:13,004 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:13,004 INFO  [Thread-0] root: Connected to localhost on port 55295
2021-03-19 10:28:13,004 INFO  [Thread-23] root: Message received by server -> Status: SHUTDOWN
received adminmsg
2021-03-19 10:28:13,005 DEBUG [Thread-23] root: Closing the program
2021-03-19 10:28:13,005 INFO  [Thread-23] root: Message sent by server -> Status: SHUTDOWN_SUCCESS
2021-03-19 10:28:13,006 ERROR [Thread-0] root: Error! Unable to establish connection. 

java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:458)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at app_kvServer.KVServer.run(KVServer.java:408)
2021-03-19 10:28:13,007 INFO  [Thread-0] root: Server stopped.
2021-03-19 10:28:13,008 INFO  [Thread-0] root: Clearing KV Storage...
2021-03-19 10:28:36,082 INFO  [Thread-0] root: Initialize server ...
2021-03-19 10:28:36,096 INFO  [Thread-0] root: Server listening on port: 50001
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:zookeeper.version=3.6.2--803c7f1a12f85978cb049af5e4ef23bd8b688715, built on 09/04/2020 12:44 GMT
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:host.name=localhost
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.version=11.0.10
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.vendor=Azul Systems, Inc.
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.home=/Users/steve/Library/Java/JavaVirtualMachines/azul-11.0.10/Contents/Home
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.class.path=/Users/steve/Desktop/UofT/year4/winter2021/ECE419/milestone3/m3-server.jar
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.library.path=/Users/steve/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/var/folders/kz/3gb57nkn6ks6_07_dtt5lqvr0000gn/T/
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.compiler=<NA>
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.name=Mac OS X
2021-03-19 10:28:36,117 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.arch=x86_64
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.version=10.16
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.name=steve
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.home=/Users/steve
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.dir=/Users/steve
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.free=249MB
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.max=4096MB
2021-03-19 10:28:36,118 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.total=256MB
2021-03-19 10:28:36,121 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=3000 watcher=app_kvServer.KVServer$1@7a8d20e7
2021-03-19 10:28:36,125 INFO  [Thread-0] org.apache.zookeeper.common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2021-03-19 10:28:36,138 INFO  [Thread-0] org.apache.zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes
2021-03-19 10:28:36,146 INFO  [Thread-0] org.apache.zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false
2021-03-19 10:28:36,157 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.SaslServerPrincipal: Canonicalized address to localhost
2021-03-19 10:28:36,158 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Opening socket connection to server localhost/127.0.0.1:2181.
2021-03-19 10:28:36,159 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)
2021-03-19 10:28:36,176 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Socket connection established, initiating session, client: /127.0.0.1:55441, server: localhost/127.0.0.1:2181
2021-03-19 10:28:36,177 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment request sent on localhost/127.0.0.1:2181
2021-03-19 10:28:36,207 TRACE [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxnSocket: readConnectResult 37 0x[0,0,0,0,0,0,f,ffffffa0,1,0,14,ffffffbd,52,70,1,24,0,0,0,10,fffffff8,5c,13,2d,ffffffd0,fffffffe,46,49,51,75,19,ffffff9b,ffffff8a,19,56,27,0,]
2021-03-19 10:28:36,208 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment complete on server localhost/127.0.0.1:2181, session id = 0x10014bd52700124, negotiated timeout = 4000
2021-03-19 10:28:36,211 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:28:36,211 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:None path:null
2021-03-19 10:28:36,240 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700124, packet:: clientPath:null serverPath:null finished:false header:: 1,1  replyHeader:: 1,928,0  request:: '/keeper/server2,,v{s{31,s{'world,'anyone}}},1  response:: '/keeper/server2 
2021-03-19 10:28:36,247 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700124, packet:: clientPath:null serverPath:null finished:false header:: 2,3  replyHeader:: 2,928,0  request:: '/keeper/server2,T  response:: s{928,928,1616164116211,1616164116211,0,0,0,72080397402374436,0,0,928} 
2021-03-19 10:28:36,275 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got notification session id: 0x10014bd52700124
2021-03-19 10:28:36,276 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2 for session id 0x10014bd52700124
2021-03-19 10:28:36,277 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:28:36,277 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2
2021-03-19 10:28:36,277 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700124, packet:: clientPath:null serverPath:null finished:false header:: 3,5  replyHeader:: 3,929,0  request:: '/keeper/server2,#3132372e302e302e313a3530303031,0  response:: s{928,929,1616164116211,1616164116250,1,0,0,72080397402374436,15,0,928} 
2021-03-19 10:28:36,278 INFO  [Thread-0] root: Node created at: /keeper/server2
Starting commModule
2021-03-19 10:28:36,284 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,285 INFO  [Thread-0] root: Connected to localhost on port 55442
2021-03-19 10:28:36,296 INFO  [Thread-1] root: Message received by server -> Status: INIT_SERVER
received adminmsg
2021-03-19 10:28:36,298 INFO  [Thread-1] root: Message sent by server -> Status: INIT_SERVER_SUCCESS
2021-03-19 10:28:36,298 INFO  [Thread-1] root: Message received by server -> Status: START
received adminmsg
2021-03-19 10:28:36,299 INFO  [Thread-1] root: Message sent by server -> Status: START_SUCCESS
Starting commModule
2021-03-19 10:28:36,311 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,312 INFO  [Thread-0] root: Connected to localhost on port 55447
Starting commModule
2021-03-19 10:28:36,315 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,315 INFO  [Thread-0] root: Connected to localhost on port 55449
Starting commModule
2021-03-19 10:28:36,319 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,319 INFO  [Thread-0] root: Connected to localhost on port 55452
Starting commModule
2021-03-19 10:28:36,326 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,327 INFO  [Thread-0] root: Connected to localhost on port 55455
2021-03-19 10:28:36,328 INFO  [Thread-5] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:36,329 INFO  [Thread-5] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:36,333 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,333 INFO  [Thread-0] root: Connected to localhost on port 55458
Starting commModule
2021-03-19 10:28:36,336 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,337 INFO  [Thread-0] root: Connected to localhost on port 55460
Starting commModule
2021-03-19 10:28:36,337 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:36,338 INFO  [Thread-0] root: Connected to localhost on port 55462
2021-03-19 10:28:36,339 INFO  [Thread-8] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:36,344 DEBUG [Thread-8] root: Getting successors
2021-03-19 10:28:36,344 DEBUG [Thread-8] root: Got successors
2021-03-19 10:28:36,345 DEBUG [Thread-8] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50002
2021-03-19 10:28:36,347 INFO  [Thread-8] root: Client communication module connected
2021-03-19 10:28:36,348 INFO  [Thread-8] root: Client communication module connected
2021-03-19 10:28:36,348 DEBUG [Thread-8] root: {}
2021-03-19 10:28:36,348 INFO  [Thread-8] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:37,015 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,015 INFO  [Thread-0] root: Connected to localhost on port 55470
2021-03-19 10:28:37,016 INFO  [Thread-9] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:37,017 INFO  [Thread-9] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:37,020 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,021 INFO  [Thread-0] root: Connected to localhost on port 55473
Starting commModule
2021-03-19 10:28:37,023 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,024 INFO  [Thread-0] root: Connected to localhost on port 55475
Starting commModule
2021-03-19 10:28:37,024 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,025 INFO  [Thread-0] root: Connected to localhost on port 55477
2021-03-19 10:28:37,026 INFO  [Thread-12] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:37,026 DEBUG [Thread-12] root: Getting successors
2021-03-19 10:28:37,026 DEBUG [Thread-12] root: Got successors
2021-03-19 10:28:37,026 DEBUG [Thread-12] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:28:37,027 INFO  [Thread-12] root: Client communication module connected
2021-03-19 10:28:37,027 INFO  [Thread-12] root: Client communication module connected
2021-03-19 10:28:37,027 DEBUG [Thread-12] root: {}
2021-03-19 10:28:37,027 INFO  [Thread-12] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:37,036 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,037 INFO  [Thread-0] root: Connected to localhost on port 55484
2021-03-19 10:28:37,037 INFO  [Thread-13] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:28:37,038 INFO  [Thread-13] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:28:37,044 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,045 INFO  [Thread-0] root: Connected to localhost on port 55488
Starting commModule
2021-03-19 10:28:37,048 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,049 INFO  [Thread-0] root: Connected to localhost on port 55490
Starting commModule
2021-03-19 10:28:37,049 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,050 INFO  [Thread-0] root: Connected to localhost on port 55492
2021-03-19 10:28:37,051 INFO  [Thread-16] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:28:37,051 DEBUG [Thread-16] root: Getting successors
2021-03-19 10:28:37,052 DEBUG [Thread-16] root: Got successors
2021-03-19 10:28:37,052 DEBUG [Thread-16] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:28:37,052 INFO  [Thread-16] root: Client communication module connected
2021-03-19 10:28:37,053 INFO  [Thread-16] root: Client communication module connected
2021-03-19 10:28:37,053 DEBUG [Thread-16] root: {}
2021-03-19 10:28:37,054 INFO  [Thread-16] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:28:37,072 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:28:37,072 INFO  [Thread-0] root: Connected to localhost on port 55500
2021-03-19 10:28:37,072 INFO  [Thread-17] root: Message received by server -> Status: SHUTDOWN
received adminmsg
2021-03-19 10:28:37,073 DEBUG [Thread-17] root: Closing the program
2021-03-19 10:28:37,073 INFO  [Thread-17] root: Message sent by server -> Status: SHUTDOWN_SUCCESS
2021-03-19 10:28:37,074 ERROR [Thread-0] root: Error! Unable to establish connection. 

java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:458)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at app_kvServer.KVServer.run(KVServer.java:408)
2021-03-19 10:28:37,076 INFO  [Thread-0] root: Server stopped.
2021-03-19 10:28:37,076 INFO  [Thread-0] root: Clearing KV Storage...
2021-03-19 10:35:06,778 INFO  [Thread-0] root: Initialize server ...
2021-03-19 10:35:06,792 INFO  [Thread-0] root: Server listening on port: 50001
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:zookeeper.version=3.6.2--803c7f1a12f85978cb049af5e4ef23bd8b688715, built on 09/04/2020 12:44 GMT
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:host.name=localhost
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.version=11.0.10
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.vendor=Azul Systems, Inc.
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.home=/Users/steve/Library/Java/JavaVirtualMachines/azul-11.0.10/Contents/Home
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.class.path=/Users/steve/Desktop/UofT/year4/winter2021/ECE419/milestone3/m3-server.jar
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.library.path=/Users/steve/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2021-03-19 10:35:06,815 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/var/folders/kz/3gb57nkn6ks6_07_dtt5lqvr0000gn/T/
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.compiler=<NA>
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.name=Mac OS X
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.arch=x86_64
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.version=10.16
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.name=steve
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.home=/Users/steve
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.dir=/Users/steve
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.free=249MB
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.max=4096MB
2021-03-19 10:35:06,816 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.total=256MB
2021-03-19 10:35:06,819 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=3000 watcher=app_kvServer.KVServer$1@48a00dff
2021-03-19 10:35:06,823 INFO  [Thread-0] org.apache.zookeeper.common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2021-03-19 10:35:06,835 INFO  [Thread-0] org.apache.zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes
2021-03-19 10:35:06,843 INFO  [Thread-0] org.apache.zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false
2021-03-19 10:35:06,855 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.SaslServerPrincipal: Canonicalized address to localhost
2021-03-19 10:35:06,858 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181.
2021-03-19 10:35:06,859 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)
2021-03-19 10:35:06,893 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Socket connection established, initiating session, client: /0:0:0:0:0:0:0:1:55716, server: localhost/0:0:0:0:0:0:0:1:2181
2021-03-19 10:35:06,895 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment request sent on localhost/0:0:0:0:0:0:0:1:2181
2021-03-19 10:35:06,927 TRACE [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxnSocket: readConnectResult 37 0x[0,0,0,0,0,0,f,ffffffa0,1,0,14,ffffffbd,52,70,1,31,0,0,0,10,ffffff8d,ffffffe8,ffffff82,2d,fffffff1,61,ffffffb4,2c,1e,7d,6f,62,ffffffd5,fffffff1,ffffffcf,ffffffee,0,]
2021-03-19 10:35:06,929 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment complete on server localhost/0:0:0:0:0:0:0:1:2181, session id = 0x10014bd52700131, negotiated timeout = 4000
2021-03-19 10:35:06,934 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:35:06,934 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:None path:null
2021-03-19 10:35:06,988 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700131, packet:: clientPath:null serverPath:null finished:false header:: 1,1  replyHeader:: 1,980,0  request:: '/keeper/server2,,v{s{31,s{'world,'anyone}}},1  response:: '/keeper/server2 
2021-03-19 10:35:06,994 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700131, packet:: clientPath:null serverPath:null finished:false header:: 2,3  replyHeader:: 2,980,0  request:: '/keeper/server2,T  response:: s{980,980,1616164506935,1616164506935,0,0,0,72080397402374449,0,0,980} 
2021-03-19 10:35:07,020 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got notification session id: 0x10014bd52700131
2021-03-19 10:35:07,022 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2 for session id 0x10014bd52700131
2021-03-19 10:35:07,023 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:35:07,023 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2
2021-03-19 10:35:07,024 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700131, packet:: clientPath:null serverPath:null finished:false header:: 3,5  replyHeader:: 3,981,0  request:: '/keeper/server2,#3132372e302e302e313a3530303031,0  response:: s{980,981,1616164506935,1616164506995,1,0,0,72080397402374449,15,0,980} 
2021-03-19 10:35:07,024 INFO  [Thread-0] root: Node created at: /keeper/server2
Starting commModule
2021-03-19 10:35:07,032 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,033 INFO  [Thread-0] root: Connected to localhost on port 55717
2021-03-19 10:35:07,042 INFO  [Thread-1] root: Message received by server -> Status: INIT_SERVER
received adminmsg
2021-03-19 10:35:07,043 INFO  [Thread-1] root: Message sent by server -> Status: INIT_SERVER_SUCCESS
2021-03-19 10:35:07,043 INFO  [Thread-1] root: Message received by server -> Status: START
received adminmsg
2021-03-19 10:35:07,043 INFO  [Thread-1] root: Message sent by server -> Status: START_SUCCESS
Starting commModule
2021-03-19 10:35:07,044 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,045 INFO  [Thread-0] root: Connected to localhost on port 55718
2021-03-19 10:35:07,046 INFO  [Thread-2] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:07,048 INFO  [Thread-2] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:07,048 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,049 INFO  [Thread-0] root: Connected to localhost on port 55719
2021-03-19 10:35:07,050 INFO  [Thread-3] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:07,055 DEBUG [Thread-3] root: Getting successors
2021-03-19 10:35:07,055 DEBUG [Thread-3] root: Got successors
2021-03-19 10:35:07,055 DEBUG [Thread-3] root: Propagating to: 127.0.0.1:50001 127.0.0.1:50001
Starting commModule
2021-03-19 10:35:07,058 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,058 INFO  [Thread-3] root: Client communication module connected
2021-03-19 10:35:07,059 INFO  [Thread-0] root: Connected to localhost on port 55720
Starting commModule
2021-03-19 10:35:07,059 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,059 INFO  [Thread-3] root: Client communication module connected
2021-03-19 10:35:07,059 DEBUG [Thread-3] root: {}
2021-03-19 10:35:07,060 INFO  [Thread-0] root: Connected to localhost on port 55721
2021-03-19 10:35:07,060 INFO  [Thread-3] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:07,644 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,645 INFO  [Thread-0] root: Connected to localhost on port 55725
2021-03-19 10:35:07,646 INFO  [Thread-6] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:07,647 INFO  [Thread-6] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:07,648 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,649 INFO  [Thread-0] root: Connected to localhost on port 55726
2021-03-19 10:35:07,649 INFO  [Thread-7] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:07,649 DEBUG [Thread-7] root: Getting successors
2021-03-19 10:35:07,649 DEBUG [Thread-7] root: Got successors
2021-03-19 10:35:07,650 DEBUG [Thread-7] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50001
2021-03-19 10:35:07,650 INFO  [Thread-7] root: Client communication module connected
Starting commModule
2021-03-19 10:35:07,651 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,651 INFO  [Thread-7] root: Client communication module connected
2021-03-19 10:35:07,651 DEBUG [Thread-7] root: {}
2021-03-19 10:35:07,651 INFO  [Thread-7] root: Message sent by server -> Status: PROPAGATE_SUCCESS
2021-03-19 10:35:07,651 INFO  [Thread-0] root: Connected to localhost on port 55728
Starting commModule
2021-03-19 10:35:07,652 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,653 INFO  [Thread-0] root: Connected to localhost on port 55729
2021-03-19 10:35:07,653 INFO  [Thread-9] root: Message received by server -> Status: MOVE_DATA
received adminmsg
2021-03-19 10:35:07,653 DEBUG [Thread-9] root: Input data: 
2021-03-19 10:35:07,653 DEBUG [Thread-9] root: dcee0277eb13b76434e8dcd31a38770a:a98109598267087dfc364fae4cf24578
2021-03-19 10:35:07,653 DEBUG [Thread-9] root: 127.0.0.1:50003
2021-03-19 10:35:07,654 INFO  [Thread-9] root: Client communication module connected
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Host: 127.0.0.1
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Port: 50003
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Range: dcee0277eb13b76434e8dcd31a38770a:a98109598267087dfc364fae4cf24578
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Starting flush data
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Finished flush data
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Closing conn
2021-03-19 10:35:07,654 INFO  [Thread-9] root: Connection closed!
2021-03-19 10:35:07,654 DEBUG [Thread-9] root: Closed conn
2021-03-19 10:35:07,655 INFO  [Thread-9] root: Message sent by server -> Status: MOVE_DATA_SUCCESS
Starting commModule
2021-03-19 10:35:07,656 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,656 INFO  [Thread-0] root: Connected to localhost on port 55731
2021-03-19 10:35:07,657 INFO  [Thread-10] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:07,658 INFO  [Thread-10] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:07,663 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,665 INFO  [Thread-0] root: Connected to localhost on port 55733
2021-03-19 10:35:07,665 INFO  [Thread-11] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:07,665 DEBUG [Thread-11] root: Getting successors
2021-03-19 10:35:07,665 DEBUG [Thread-11] root: Got successors
2021-03-19 10:35:07,665 DEBUG [Thread-11] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50001
2021-03-19 10:35:07,666 INFO  [Thread-11] root: Client communication module connected
Starting commModule
2021-03-19 10:35:07,667 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,667 INFO  [Thread-11] root: Client communication module connected
2021-03-19 10:35:07,667 DEBUG [Thread-11] root: {}
2021-03-19 10:35:07,667 INFO  [Thread-11] root: Message sent by server -> Status: PROPAGATE_SUCCESS
2021-03-19 10:35:07,668 INFO  [Thread-0] root: Connected to localhost on port 55735
Starting commModule
2021-03-19 10:35:07,679 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:07,680 INFO  [Thread-0] root: Connected to localhost on port 55737
Starting commModule
2021-03-19 10:35:08,303 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,304 INFO  [Thread-0] root: Connected to localhost on port 55742
2021-03-19 10:35:08,305 INFO  [Thread-14] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:08,305 INFO  [Thread-14] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,309 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,310 INFO  [Thread-0] root: Connected to localhost on port 55744
2021-03-19 10:35:08,310 INFO  [Thread-15] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:08,310 DEBUG [Thread-15] root: Getting successors
2021-03-19 10:35:08,311 DEBUG [Thread-15] root: Got successors
2021-03-19 10:35:08,311 DEBUG [Thread-15] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50002
2021-03-19 10:35:08,311 INFO  [Thread-15] root: Client communication module connected
2021-03-19 10:35:08,311 INFO  [Thread-15] root: Client communication module connected
2021-03-19 10:35:08,311 DEBUG [Thread-15] root: {}
2021-03-19 10:35:08,312 INFO  [Thread-15] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,315 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,316 INFO  [Thread-0] root: Connected to localhost on port 55749
Starting commModule
2021-03-19 10:35:08,316 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,316 INFO  [Thread-0] root: Connected to localhost on port 55750
2021-03-19 10:35:08,317 INFO  [Thread-17] root: Message received by server -> Status: MOVE_DATA
received adminmsg
2021-03-19 10:35:08,317 DEBUG [Thread-17] root: Input data: 
2021-03-19 10:35:08,317 DEBUG [Thread-17] root: a98109598267087dfc364fae4cf24579:b3638a32c297f43aa37e63bbd839fc7e
2021-03-19 10:35:08,317 DEBUG [Thread-17] root: 127.0.0.1:50002
2021-03-19 10:35:08,317 INFO  [Thread-17] root: Client communication module connected
2021-03-19 10:35:08,317 DEBUG [Thread-17] root: Host: 127.0.0.1
2021-03-19 10:35:08,317 DEBUG [Thread-17] root: Port: 50002
2021-03-19 10:35:08,317 DEBUG [Thread-17] root: Range: a98109598267087dfc364fae4cf24579:b3638a32c297f43aa37e63bbd839fc7e
2021-03-19 10:35:08,318 DEBUG [Thread-17] root: Starting flush data
2021-03-19 10:35:08,318 DEBUG [Thread-17] root: Finished flush data
2021-03-19 10:35:08,318 DEBUG [Thread-17] root: Closing conn
2021-03-19 10:35:08,318 INFO  [Thread-17] root: Connection closed!
2021-03-19 10:35:08,318 DEBUG [Thread-17] root: Closed conn
2021-03-19 10:35:08,318 INFO  [Thread-17] root: Message sent by server -> Status: MOVE_DATA_SUCCESS
Starting commModule
2021-03-19 10:35:08,319 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,319 INFO  [Thread-0] root: Connected to localhost on port 55752
2021-03-19 10:35:08,320 INFO  [Thread-18] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:08,321 INFO  [Thread-18] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,327 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,328 INFO  [Thread-0] root: Connected to localhost on port 55755
2021-03-19 10:35:08,329 INFO  [Thread-19] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:08,329 DEBUG [Thread-19] root: Getting successors
2021-03-19 10:35:08,329 DEBUG [Thread-19] root: Got successors
2021-03-19 10:35:08,329 DEBUG [Thread-19] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50002
2021-03-19 10:35:08,329 INFO  [Thread-19] root: Client communication module connected
2021-03-19 10:35:08,330 INFO  [Thread-19] root: Client communication module connected
2021-03-19 10:35:08,330 DEBUG [Thread-19] root: {}
2021-03-19 10:35:08,330 INFO  [Thread-19] root: Message sent by server -> Status: PROPAGATE_SUCCESS
2021-03-19 10:35:08,332 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got ping response for session id: 0x10014bd52700131 after 0ms.
Starting commModule
2021-03-19 10:35:08,333 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,333 INFO  [Thread-0] root: Connected to localhost on port 55760
Starting commModule
2021-03-19 10:35:08,343 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,344 INFO  [Thread-0] root: Connected to localhost on port 55762
Starting commModule
2021-03-19 10:35:08,871 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,872 INFO  [Thread-0] root: Connected to localhost on port 55767
2021-03-19 10:35:08,872 INFO  [Thread-22] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:08,873 INFO  [Thread-22] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,880 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,881 INFO  [Thread-0] root: Connected to localhost on port 55770
2021-03-19 10:35:08,881 INFO  [Thread-23] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:08,882 DEBUG [Thread-23] root: Getting successors
2021-03-19 10:35:08,882 DEBUG [Thread-23] root: Got successors
2021-03-19 10:35:08,882 DEBUG [Thread-23] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:35:08,882 INFO  [Thread-23] root: Client communication module connected
2021-03-19 10:35:08,883 INFO  [Thread-23] root: Client communication module connected
2021-03-19 10:35:08,883 DEBUG [Thread-23] root: {}
2021-03-19 10:35:08,883 INFO  [Thread-23] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,887 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,888 INFO  [Thread-0] root: Connected to localhost on port 55775
Starting commModule
2021-03-19 10:35:08,891 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,891 INFO  [Thread-0] root: Connected to localhost on port 55777
Starting commModule
2021-03-19 10:35:08,895 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,896 INFO  [Thread-0] root: Connected to localhost on port 55781
2021-03-19 10:35:08,897 INFO  [Thread-26] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:08,897 INFO  [Thread-26] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,908 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,909 INFO  [Thread-0] root: Connected to localhost on port 55785
2021-03-19 10:35:08,909 INFO  [Thread-27] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:08,910 DEBUG [Thread-27] root: Getting successors
2021-03-19 10:35:08,910 DEBUG [Thread-27] root: Got successors
2021-03-19 10:35:08,910 DEBUG [Thread-27] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:35:08,910 INFO  [Thread-27] root: Client communication module connected
2021-03-19 10:35:08,911 INFO  [Thread-27] root: Client communication module connected
2021-03-19 10:35:08,911 DEBUG [Thread-27] root: {}
2021-03-19 10:35:08,911 INFO  [Thread-27] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:08,915 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,916 INFO  [Thread-0] root: Connected to localhost on port 55790
Starting commModule
2021-03-19 10:35:08,919 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,920 INFO  [Thread-0] root: Connected to localhost on port 55792
Starting commModule
2021-03-19 10:35:08,932 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:08,933 INFO  [Thread-0] root: Connected to localhost on port 55797
2021-03-19 10:35:08,933 INFO  [Thread-30] root: Message received by server -> Status: SHUTDOWN
received adminmsg
2021-03-19 10:35:08,933 DEBUG [Thread-30] root: Closing the program
2021-03-19 10:35:08,934 INFO  [Thread-30] root: Message sent by server -> Status: SHUTDOWN_SUCCESS
2021-03-19 10:35:08,934 ERROR [Thread-0] root: Error! Unable to establish connection. 

java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:458)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at app_kvServer.KVServer.run(KVServer.java:408)
2021-03-19 10:35:08,937 INFO  [Thread-0] root: Server stopped.
2021-03-19 10:35:08,937 INFO  [Thread-0] root: Clearing KV Storage...
2021-03-19 10:35:15,823 INFO  [Thread-0] root: Initialize server ...
2021-03-19 10:35:15,837 INFO  [Thread-0] root: Server listening on port: 50001
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:zookeeper.version=3.6.2--803c7f1a12f85978cb049af5e4ef23bd8b688715, built on 09/04/2020 12:44 GMT
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:host.name=localhost
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.version=11.0.10
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.vendor=Azul Systems, Inc.
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.home=/Users/steve/Library/Java/JavaVirtualMachines/azul-11.0.10/Contents/Home
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.class.path=/Users/steve/Desktop/UofT/year4/winter2021/ECE419/milestone3/m3-server.jar
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.library.path=/Users/steve/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/var/folders/kz/3gb57nkn6ks6_07_dtt5lqvr0000gn/T/
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:java.compiler=<NA>
2021-03-19 10:35:15,858 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.name=Mac OS X
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.arch=x86_64
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.version=10.16
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.name=steve
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.home=/Users/steve
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:user.dir=/Users/steve
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.free=249MB
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.max=4096MB
2021-03-19 10:35:15,859 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Client environment:os.memory.total=256MB
2021-03-19 10:35:15,862 INFO  [Thread-0] org.apache.zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=3000 watcher=app_kvServer.KVServer$1@777d7b53
2021-03-19 10:35:15,865 INFO  [Thread-0] org.apache.zookeeper.common.X509Util: Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2021-03-19 10:35:15,876 INFO  [Thread-0] org.apache.zookeeper.ClientCnxnSocket: jute.maxbuffer value is 1048575 Bytes
2021-03-19 10:35:15,882 INFO  [Thread-0] org.apache.zookeeper.ClientCnxn: zookeeper.request.timeout value is 0. feature enabled=false
2021-03-19 10:35:15,890 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.SaslServerPrincipal: Canonicalized address to localhost
2021-03-19 10:35:15,891 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181.
2021-03-19 10:35:15,891 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: SASL config status: Will not attempt to authenticate using SASL (unknown error)
2021-03-19 10:35:15,905 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Socket connection established, initiating session, client: /0:0:0:0:0:0:0:1:55828, server: localhost/0:0:0:0:0:0:0:1:2181
2021-03-19 10:35:15,906 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment request sent on localhost/0:0:0:0:0:0:0:1:2181
2021-03-19 10:35:15,935 TRACE [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxnSocket: readConnectResult 37 0x[0,0,0,0,0,0,f,ffffffa0,1,0,14,ffffffbd,52,70,1,39,0,0,0,10,26,fffffff1,53,2d,fffffff1,ffffffbe,ffffffae,53,ffffffc8,ffffff94,ffffffa9,ffffffbd,72,38,74,57,0,]
2021-03-19 10:35:15,937 INFO  [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Session establishment complete on server localhost/0:0:0:0:0:0:0:1:2181, session id = 0x10014bd52700139, negotiated timeout = 4000
2021-03-19 10:35:15,940 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:35:15,940 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:None path:null
2021-03-19 10:35:15,967 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700139, packet:: clientPath:null serverPath:null finished:false header:: 1,1  replyHeader:: 1,1004,0  request:: '/keeper/server2,,v{s{31,s{'world,'anyone}}},1  response:: '/keeper/server2 
2021-03-19 10:35:15,971 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700139, packet:: clientPath:null serverPath:null finished:false header:: 2,3  replyHeader:: 2,1004,0  request:: '/keeper/server2,T  response:: s{1004,1004,1616164515940,1616164515940,0,0,0,72080397402374457,0,0,1004} 
2021-03-19 10:35:15,997 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got notification session id: 0x10014bd52700139
2021-03-19 10:35:15,998 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Got WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2 for session id 0x10014bd52700139
2021-03-19 10:35:15,999 DEBUG [Thread-0-EventThread] root: ZK event: 
2021-03-19 10:35:15,999 DEBUG [Thread-0-EventThread] root: WatchedEvent state:SyncConnected type:NodeDataChanged path:/keeper/server2
2021-03-19 10:35:16,000 DEBUG [Thread-0-SendThread(localhost:2181)] org.apache.zookeeper.ClientCnxn: Reading reply session id: 0x10014bd52700139, packet:: clientPath:null serverPath:null finished:false header:: 3,5  replyHeader:: 3,1005,0  request:: '/keeper/server2,#3132372e302e302e313a3530303031,0  response:: s{1004,1005,1616164515940,1616164515972,1,0,0,72080397402374457,15,0,1004} 
2021-03-19 10:35:16,000 INFO  [Thread-0] root: Node created at: /keeper/server2
Starting commModule
2021-03-19 10:35:16,006 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,007 INFO  [Thread-0] root: Connected to localhost on port 55829
2021-03-19 10:35:16,015 INFO  [Thread-1] root: Message received by server -> Status: INIT_SERVER
received adminmsg
2021-03-19 10:35:16,016 INFO  [Thread-1] root: Message sent by server -> Status: INIT_SERVER_SUCCESS
2021-03-19 10:35:16,016 INFO  [Thread-1] root: Message received by server -> Status: START
received adminmsg
2021-03-19 10:35:16,016 INFO  [Thread-1] root: Message sent by server -> Status: START_SUCCESS
Starting commModule
2021-03-19 10:35:16,027 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,028 INFO  [Thread-0] root: Connected to localhost on port 55833
Starting commModule
2021-03-19 10:35:16,032 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,033 INFO  [Thread-0] root: Connected to localhost on port 55837
Starting commModule
2021-03-19 10:35:16,036 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,036 INFO  [Thread-0] root: Connected to localhost on port 55839
Starting commModule
2021-03-19 10:35:16,043 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,044 INFO  [Thread-0] root: Connected to localhost on port 55842
2021-03-19 10:35:16,044 INFO  [Thread-5] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:16,046 INFO  [Thread-5] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:16,049 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,050 INFO  [Thread-0] root: Connected to localhost on port 55844
Starting commModule
2021-03-19 10:35:16,053 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,054 INFO  [Thread-0] root: Connected to localhost on port 55848
Starting commModule
2021-03-19 10:35:16,054 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,055 INFO  [Thread-0] root: Connected to localhost on port 55849
2021-03-19 10:35:16,056 INFO  [Thread-8] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:16,061 DEBUG [Thread-8] root: Getting successors
2021-03-19 10:35:16,061 DEBUG [Thread-8] root: Got successors
2021-03-19 10:35:16,061 DEBUG [Thread-8] root: Propagating to: 127.0.0.1:50003 127.0.0.1:50002
2021-03-19 10:35:16,063 INFO  [Thread-8] root: Client communication module connected
2021-03-19 10:35:16,064 INFO  [Thread-8] root: Client communication module connected
2021-03-19 10:35:16,064 DEBUG [Thread-8] root: {}
2021-03-19 10:35:16,065 INFO  [Thread-8] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:16,595 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,596 INFO  [Thread-0] root: Connected to localhost on port 55857
2021-03-19 10:35:16,597 INFO  [Thread-9] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:16,597 INFO  [Thread-9] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:16,600 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,601 INFO  [Thread-0] root: Connected to localhost on port 55859
Starting commModule
2021-03-19 10:35:16,604 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,605 INFO  [Thread-0] root: Connected to localhost on port 55863
Starting commModule
2021-03-19 10:35:16,605 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,606 INFO  [Thread-0] root: Connected to localhost on port 55864
2021-03-19 10:35:16,607 INFO  [Thread-12] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:16,607 DEBUG [Thread-12] root: Getting successors
2021-03-19 10:35:16,607 DEBUG [Thread-12] root: Got successors
2021-03-19 10:35:16,607 DEBUG [Thread-12] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:35:16,608 INFO  [Thread-12] root: Client communication module connected
2021-03-19 10:35:16,608 INFO  [Thread-12] root: Client communication module connected
2021-03-19 10:35:16,608 DEBUG [Thread-12] root: {}
2021-03-19 10:35:16,609 INFO  [Thread-12] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:16,619 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,620 INFO  [Thread-0] root: Connected to localhost on port 55871
2021-03-19 10:35:16,621 INFO  [Thread-13] root: Message received by server -> Status: UPDATE
received adminmsg
2021-03-19 10:35:16,621 INFO  [Thread-13] root: Message sent by server -> Status: UPDATE_SUCCESS
Starting commModule
2021-03-19 10:35:16,629 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,629 INFO  [Thread-0] root: Connected to localhost on port 55874
Starting commModule
2021-03-19 10:35:16,633 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,634 INFO  [Thread-0] root: Connected to localhost on port 55878
Starting commModule
2021-03-19 10:35:16,634 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,635 INFO  [Thread-0] root: Connected to localhost on port 55879
2021-03-19 10:35:16,636 INFO  [Thread-16] root: Message received by server -> Status: PROPAGATE_ADMIN
received adminmsg
2021-03-19 10:35:16,636 DEBUG [Thread-16] root: Getting successors
2021-03-19 10:35:16,636 DEBUG [Thread-16] root: Got successors
2021-03-19 10:35:16,636 DEBUG [Thread-16] root: Propagating to: 127.0.0.1:50000 127.0.0.1:50003
2021-03-19 10:35:16,636 INFO  [Thread-16] root: Client communication module connected
2021-03-19 10:35:16,637 INFO  [Thread-16] root: Client communication module connected
2021-03-19 10:35:16,637 DEBUG [Thread-16] root: {}
2021-03-19 10:35:16,637 INFO  [Thread-16] root: Message sent by server -> Status: PROPAGATE_SUCCESS
Starting commModule
2021-03-19 10:35:16,654 INFO  [Thread-0] root: Server communication module connected
2021-03-19 10:35:16,655 INFO  [Thread-0] root: Connected to localhost on port 55887
2021-03-19 10:35:16,655 INFO  [Thread-17] root: Message received by server -> Status: SHUTDOWN
received adminmsg
2021-03-19 10:35:16,655 DEBUG [Thread-17] root: Closing the program
2021-03-19 10:35:16,656 INFO  [Thread-17] root: Message sent by server -> Status: SHUTDOWN_SUCCESS
2021-03-19 10:35:16,656 ERROR [Thread-0] root: Error! Unable to establish connection. 

java.net.SocketException: Socket closed
	at java.base/java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.base/java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:458)
	at java.base/java.net.ServerSocket.implAccept(ServerSocket.java:565)
	at java.base/java.net.ServerSocket.accept(ServerSocket.java:533)
	at app_kvServer.KVServer.run(KVServer.java:408)
2021-03-19 10:35:16,660 INFO  [Thread-0] root: Server stopped.
2021-03-19 10:35:16,660 INFO  [Thread-0] root: Clearing KV Storage...
